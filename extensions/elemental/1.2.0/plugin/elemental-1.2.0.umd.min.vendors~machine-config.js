(("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_2_0"]=("undefined"!==typeof self?self:this)["webpackJsonpelemental_1_2_0"]||[]).push([[7],{"18b3":function(e,t,s){var a=s("3edb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=s("0ed3").default;o("d1039a00",a,!0,{sourceMap:!1,shadowMode:!1})},2879:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return u}));var a=s("bddd");const o={},l={"=":"In","==":"In","!=":"NotIn","<":"Lt",">":"Gt"};function i(e){if(e=e.replace(/\+/g," "),o[e])return o[e];let t;const s=[],a=[];if(t=e.match(/\([^)]+\)/g),t&&t.length)for(const o of t){const t=o.replace(/^\s*\(\s*/,"").replace(/\s*\)\s*$/,"").split(/\s*,\s*/);a.push(t),e=e.replace(o,` @${a.length-1} `)}const i=e.split(/\s*,\s*/).filter(e=>!!e);for(let o of i)o=o.trim(),t=o.match(/^(.*?)\s+((not\s*)?in)\s+@(\d+)*$/i),t?s.push({key:t[1].trim(),operator:"notin"===t[2].toLowerCase().replace(/\s/g,"")?"NotIn":"In",values:a[t[4].trim()]}):(t=o.match(/^([^!=]*)\s*(\!=|=|==|>|<)\s*([^!=]*)$/),t?s.push({key:t[1].trim(),operator:l[t[2]],values:[t[3].trim()]}):o.startsWith("!")?s.push({key:o.substr(1).trim(),operator:"DoesNotExist"}):s.push({key:o.trim(),operator:"Exists"}));return o[e]=s,s}function n(e,t){const s=Object.keys(e||{}),o=t||[];for(const l of s){const t=e[l],s=Object(a["e"])(o,{key:l,operator:"In"});s?Object(a["a"])(s.values,t):o.push({key:l,operator:"In",values:[t]})}return o}function r(e){const t={},s=[],o=[],l={};for(const i of e)"In"===i.operator&&(l[i.key]?Object(a["a"])(o,i.key):l[i.key]=!0);for(const a of e)"In"!==a.operator||1!==a.values.length||o.includes(a.key)?s.push(Object.assign({},a)):t[a.key]=a.values[0];return{matchLabels:t,matchExpressions:s}}function c(e,t){var s;let o=[];if("string"===typeof t)o=i(t);else if(Object(a["g"])(t))o=t;else{if("object"!==typeof t||!t)return!1;o=n(t)}const l=(null===e||void 0===e||null===(s=e.metadata)||void 0===s?void 0:s.labels)||{};for(const a of o){const e=l[a.key],t=parseInt(e,10),s="undefined"!==typeof l[a.key];switch(a.operator){case"Exists":if(!s)return!1;break;case"DoesNotExist":if(s)return!1;break;case"In":if(!e||!a.values.length||!a.values.includes(e))return!1;break;case"NotIn":if(a.values.includes(e))return!1;break;case"Lt":if(isNaN(t)||t>=Math.min.apply(null,a.values))return!1;break;case"Gt":if(isNaN(t)||t<=Math.max.apply(null,a.values))return!1;break}}return!0}function u(e,t){return e.filter(e=>c(e,t))}},"305c":function(e,t,s){"use strict";var a=s("da25"),o=s("8bbf"),l=s.n(o),i=s("cd6d");t["a"]=l.a.extend({...i["a"],props:{mode:{type:String,default:a["n"]},realMode:{type:String,default:a["n"]},as:{type:String,default:a["v"]},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}})},"3edb":function(e,t,s){var a=s("5eaa");t=a(!1),t.push([e.i,".unlabeled-select[data-v-172cf618]{position:relative}.unlabeled-select[data-v-172cf618] .v-select.select-input-view .vs__actions{visibility:hidden}.unlabeled-select .vs--multiple[data-v-172cf618] .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-172cf618] .labeled-tooltip.error .status-icon{top:7px;right:2px}.unlabeled-select[data-v-172cf618] .vs__selected-options{display:flex;margin:3px}.unlabeled-select[data-v-172cf618] .vs__selected-options .vs__selected{width:auto}.unlabeled-select[data-v-172cf618] .v-select.vs--open .vs__dropdown-toggle{color:var(--outline)!important}.unlabeled-select.focused.success[data-v-172cf618],.unlabeled-select.success[data-v-172cf618]{border:solid 1px var(--success)}.unlabeled-select.focused.success .selected[data-v-172cf618],.unlabeled-select.focused.success .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.success input[data-v-172cf618],.unlabeled-select.success .selected[data-v-172cf618],.unlabeled-select.success .vs__actions[data-v-172cf618]:after,.unlabeled-select.success input[data-v-172cf618]{color:var(--success)}.unlabeled-select.focused.warning[data-v-172cf618],.unlabeled-select.warning[data-v-172cf618]{border:solid 1px var(--warning)}.unlabeled-select.focused.warning .selected[data-v-172cf618],.unlabeled-select.focused.warning .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.warning input[data-v-172cf618],.unlabeled-select.warning .selected[data-v-172cf618],.unlabeled-select.warning .vs__actions[data-v-172cf618]:after,.unlabeled-select.warning input[data-v-172cf618]{color:var(--warning)}.unlabeled-select.error[data-v-172cf618],.unlabeled-select.focused.error[data-v-172cf618]{border:solid 1px var(--error)}.unlabeled-select.error .vs__actions[data-v-172cf618]:after,.unlabeled-select.error>label[data-v-172cf618],.unlabeled-select.focused.error .vs__actions[data-v-172cf618]:after,.unlabeled-select.focused.error>label[data-v-172cf618]{color:var(--error)}",""]),e.exports=t},"3edc":function(e,t,s){var a=s("5eaa");t=a(!1),t.push([e.i,".operator .vs__dropdown-option[data-v-271bf5ac]{padding:3px 6px 3px 6px!important}.remove-expression[data-v-271bf5ac]{padding:8px;position:absolute;margin-bottom:10px;right:0;top:0;z-index:2}.remove-expression i[data-v-271bf5ac]{font-size:2em}.remove-container[data-v-271bf5ac]{display:flex;justify-content:center}.match-expression-header[data-v-271bf5ac],.match-expression-row[data-v-271bf5ac]{display:grid;grid-template-columns:1fr 1fr 1fr;margin:5px 0;grid-gap:1.75%}.match-expression-header>LABEL[data-v-271bf5ac],.match-expression-row>LABEL[data-v-271bf5ac]{margin:0}.match-expression-header[data-v-271bf5ac]:not(.view),.match-expression-row[data-v-271bf5ac]:not(.view){grid-template-columns:repeat(3,1fr) 50px}",""]),e.exports=t},"47ab":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{ref:"select",staticClass:"unlabeled-select",class:{disabled:e.disabled&&!e.isView,focused:e.focused,[e.mode]:!0,[e.status]:e.status,taggable:e.$attrs.taggable,taggable:e.$attrs.multiple},on:{focus:e.focusSearch}},[t("v-select",e._g(e._b({ref:"select-input",staticClass:"inline",class:{"select-input-view":"view"===e.mode},attrs:{autoscroll:!0,"append-to-body":e.appendToBody,"calculate-position":e.positionDropdown,disabled:e.isView||e.disabled,"get-option-key":t=>e.getOptionKey(t),"get-option-label":t=>e.getOptionLabel(t),label:e.optionLabel,options:e.options,"close-on-select":e.closeOnSelect,"map-keydown":e.mappedKeys,placeholder:e.placeholder,reduce:t=>e.reduce(t),searchable:e.isSearchable,selectable:e.selectable,value:null!=e.value?e.value:""},on:{"search:blur":e.onBlur,"search:focus":e.onFocus,open:e.resizeHandler,"option:created":t=>e.$emit("createdListItem",t)},scopedSlots:e._u([{key:"option",fn:function(s){return[t("div",{on:{mousedown:t=>e.onClickOption(s,t)}},[e._v(" "+e._s(s.label)+" ")])]}},e._l(e.$scopedSlots,(function(t,s){return{key:s,fn:function(t){return[e._t(s,null,null,t)]}}}))],null,!0)},"v-select",e.$attrs,!1),e.$listeners)),e.tooltip&&!e.focused?t("LabeledTooltip",{attrs:{hover:e.hoverTooltip,value:e.tooltip,status:e.status}}):e._e(),e.validationMessage?t("LabeledTooltip",{attrs:{hover:e.hoverTooltip,value:e.validationMessage}}):e._e()],1)},o=[],l=s("e24b"),i=s("480e"),n=s("9f16"),r=s("d174"),c=s("e8f0"),u={components:{LabeledTooltip:r["a"]},mixins:[i["a"],n["a"]],props:{appendToBody:{default:!0,type:Boolean},disabled:{default:!1,type:Boolean},getKeyForOption:{default:null,type:Function},mode:{default:"edit",type:String},optionKey:{default:null,type:String},optionLabel:{default:"label",type:String},placement:{default:null,type:String},placeholder:{type:String,default:""},popperOverride:{type:Function,default:null},reduce:{default:e=>e&&"object"===typeof e&&void 0!==e.value?e.value:e,type:Function},tooltip:{type:String,default:null},hoverTooltip:{type:Boolean,default:!0},status:{type:String,default:null},value:{default:null,type:[String,Object,Number,Array,Boolean]},closeOnSelect:{type:Boolean,default:!0}},methods:{getOptionLabel(e){return this.$attrs["get-option-label"]?this.$attrs["get-option-label"](e):Object(l["g"])(e,this.optionLabel)?this.localizedLabel?this.$store.getters["i18n/t"](Object(l["g"])(e,this.optionLabel)):Object(l["g"])(e,this.optionLabel):e},positionDropdown(e,t,{width:s}){if(this.popperOverride)return this.popperOverride(e,t,{width:s});Object(c["a"])(e,t,s,this.placement)},focus(){this.focusSearch()},focusSearch(){this.$nextTick(()=>{var e;const t=null===(e=this.$refs["select-input"])||void 0===e?void 0:e.searchEl;t&&t.focus()})},get:l["g"],onClickOption(e,t){c["b"].call(this,e,t)},selectable(e){return!e||!e.disabled&&"group"!==e.kind&&"divider"!==e.kind&&!e.loading},getOptionKey(e){if(null!==e&&void 0!==e&&e.optionKey)return Object(l["g"])(e,e.optionKey);const t=this.getOptionLabel(e);return"string"===typeof t||"number"===typeof t?t:Math.random(1e5)},report(e){alert(e)}},computed:{requiredField(){return this.required||this.rules.some(e=>"required"===(null===e||void 0===e?void 0:e.name))},validationMessage(){const e=this.rules.find(e=>"required"===(null===e||void 0===e?void 0:e.name)),t=[],s=null===this||void 0===this?void 0:this.value;if(e&&this.blurred&&!this.focused){const t=e(s);if(t)return t}for(const a of this.rules){const e=a(s);e&&"required"!==a.name&&t.push(e)}return t.length>0&&(this.blurred||this.focused)?t.join(", "):void 0}}},d=u,p=(s("c94f"),s("d802")),f=Object(p["a"])(d,a,o,!1,null,"172cf618",null);t["a"]=f.exports},"571d":function(e,t,s){var a=s("3edc");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=s("0ed3").default;o("40a25bdb",a,!0,{sourceMap:!1,shadowMode:!1})},"711b":function(e,t,s){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",[e.showRemove&&!e.isView?t("button",{staticClass:"btn role-link remove-expression",attrs:{type:"button"},on:{click:function(t){return e.$emit("remove")}}},[t("i",{staticClass:"icon icon-x"})]):e._e(),e.rules.length?t("div",{staticClass:"match-expression-header",class:{view:e.isView}},[t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.key"))+" ")]),t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.operator"))+" ")]),t("label",[e._v(" "+e._s(e.t("workload.scheduling.affinity.matchExpressions.value"))+" ")]),t("span")]):e._e(),e._l(e.rules,(function(s,a){return t("div",{key:s.id,staticClass:"match-expression-row",class:{view:e.isView,"mb-10":a!==e.rules.length-1}},[t("div",{attrs:{"data-testid":"input-match-expression-key-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.key)+" ")]):e.hasKeySelectOptions?t("LabeledSelect",{attrs:{mode:e.mode,options:e.keysSelectOptions},model:{value:s.key,callback:function(t){e.$set(s,"key",t)},expression:"row.key"}}):t("input",{directives:[{name:"model",rawName:"v-model",value:s.key,expression:"row.key"}],attrs:{mode:e.mode},domProps:{value:s.key},on:{input:[function(t){t.target.composing||e.$set(s,"key",t.target.value)},e.update]}})],1),t("div",{attrs:{"data-testid":"input-match-expression-operator-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.operator)+" ")]):t("Select",{staticClass:"operator single",attrs:{options:e.ops,clearable:!1,reduce:e=>e.value,mode:e.mode},on:{input:e.update},model:{value:s.operator,callback:function(t){e.$set(s,"operator",t)},expression:"row.operator"}})],1),"Exists"===s.operator||"DoesNotExist"===s.operator?t("div",{staticClass:"no-value"},[t("label",{staticClass:"text-muted"},[e._v("…")])]):t("div",{attrs:{"data-testid":"input-match-expression-values-"+a}},[e.isView?t("div",[e._v(" "+e._s(s.values)+" ")]):t("input",{directives:[{name:"model",rawName:"v-model",value:s.values,expression:"row.values"}],attrs:{mode:e.mode,disabled:"Exists"===s.operator||"DoesNotExist"===s.operator},domProps:{value:s.values},on:{input:[function(t){t.target.composing||e.$set(s,"values",t.target.value)},e.update]}})]),e.showRemoveButton?t("div",{staticClass:"remove-container"},[e.isView?e._e():t("button",{staticClass:"btn role-link",style:{padding:"0px"},attrs:{type:"button",disabled:"view"===e.mode},on:{click:function(t){return e.removeRule(s)}}},[t("t",{attrs:{k:"generic.remove"}})],1)]):e._e()])})),!e.isView&&e.showAddButton?t("div",{staticClass:"mt-20"},[t("button",{staticClass:"btn role-tertiary add",attrs:{type:"button"},on:{click:e.addRule}},[t("t",{attrs:{k:"workload.scheduling.affinity.matchExpressions.addRule"}})],1)]):e._e()],2)},o=[],l=s("907c"),i=s("47ab"),n=s("9ce4"),r=s("bddd"),c=s("e24b"),u=s("2879"),d=s("466b"),p={components:{Select:i["a"],LabeledSelect:d["a"]},props:{value:{type:[Array,Object],default:()=>[]},mode:{type:String,default:"edit"},type:{type:String,default:l["p"]},initialEmptyRow:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRemove:{type:Boolean,default:!0},keysSelectOptions:{type:Array,default:()=>[]}},data(){const e=this.$store.getters["i18n/t"],t=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"}],s=[{label:e("workload.scheduling.affinity.matchExpressions.in"),value:"In"},{label:e("workload.scheduling.affinity.matchExpressions.notIn"),value:"NotIn"},{label:e("workload.scheduling.affinity.matchExpressions.exists"),value:"Exists"},{label:e("workload.scheduling.affinity.matchExpressions.doesNotExist"),value:"DoesNotExist"},{label:e("workload.scheduling.affinity.matchExpressions.lessThan"),value:"Lt"},{label:e("workload.scheduling.affinity.matchExpressions.greaterThan"),value:"Gt"}],a=this.type===l["p"]?s:t;let o;return o=Object(r["g"])(this.value)?[...this.value]:Object(u["a"])(this.value.matchLabels,this.value.matchExpressions),o=o.map(e=>{const t=Object(c["e"])(e);return t.values&&"string"!==typeof t.values&&(t.values=t.values.join(", ")),t}),o.length||!this.initialEmptyRow||this.isView||o.push({key:"",operator:"In",values:""}),{ops:a,rules:o,custom:[]}},computed:{isView(){return"view"===this.mode},node(){return l["p"]},pod(){return l["r"]},hasKeySelectOptions(){var e;return!(null===(e=this.keysSelectOptions)||void 0===e||!e.length)},...Object(n["a"])({t:"i18n/t"})},methods:{removeRule(e){Object(r["i"])(this.rules,e),this.update()},addRule(){this.rules.push({key:"",operator:"In",values:""})},update(){this.$nextTick(()=>{const e=this.rules.map(e=>{const t={key:e.key,operator:e.operator};let s=(e.values||"").trim();if("Exists"===e.operator||"DoesNotExist"===e.operator)s=null;else if(!s)return;return null!==s&&(t.values=s.split(/\s*,\s*/).filter(e=>!!e)),t}).filter(e=>!!e);Object(r["g"])(this.value)?this.$emit("input",e):this.$emit("input",Object(u["c"])(e))})}}},f=p,v=(s("ccdb"),s("d802")),b=Object(v["a"])(f,a,o,!1,null,"271bf5ac",null);t["a"]=b.exports},c94f:function(e,t,s){"use strict";s("18b3")},ccdb:function(e,t,s){"use strict";s("571d")}}]);
//# sourceMappingURL=elemental-1.2.0.umd.min.vendors~machine-config.js.map